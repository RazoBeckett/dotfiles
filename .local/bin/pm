#!/bin/bash

powermenu ()
{
    options="cancel\nshutdown\nrestart\nRefresh Rate"
    selected=$(echo -e "$options" | dmenu -fn "JetBrains Mono Nerd Font")
    if [[ "$selected" = "shutdown" ]]; then
        confirm=$(echo -e "yes\nno" | dmenu -fn "JetBrains Mono Nerd Font")
        [[ $confirm = "yes" ]] && systemctl poweroff || return
    elif [[ "$selected" = "restart" ]]; then
        confirm=$(echo -e "yes\nno" | dmenu -fn "JetBrains Mono Nerd Font")
        [[ $confirm = "yes" ]] && systemctl reboot || return
    elif [[ "$selected" = "Refresh Rate" ]]; then
        confirm=$(echo -e "60\n144" | dmenu -fn "JetBrains Mono Nerd Font")
        if [[ "$confirm" = "60" ]]; then
            xrandr --output eDP-1 --mode 1920x1080 --rate 59
            return
        elif [[ "$confirm" = "144" ]]; then
            xrandr --output eDP-1 --mode 1920x1080 --rate 144
            return
        fi
    elif [[ "$selected" = "cancel" ]]; then
        return
    fi
}

powermenu
